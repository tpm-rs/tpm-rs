[workspace]
resolver = "2"
members = [
    "base",
    "client",
    "drbg",
    "errors",
    "marshalable",
    "marshalable-derive",
    "rwtpm",
    "server",
    "unionify",
    "unionify-derive"
]

[workspace.dependencies]
# Third party dependencies
bitflags = "2.4.2"
clap = "4.5.20"
crypto-bigint = "0.5.5"
digest = "0.10.7"
hex-literal = { version = "0.4.1" }
getrandom = "0.2.15"
open-enum = "0.4.1"
proc-macro2 = "1"
quote = "1"
safe-discriminant = "0.2.0"
sha1="0.10.6"
sha2="0.10.8"
syn = {version = "2", features = ["full"]}
tracing = { version = "0.1.40", features = ["max_level_trace", "release_max_level_off"] }
tracing-subscriber="0.3.17"
trybuild = { version = "1.0.89", features = ["diff"] }
zerocopy = { version = "0.7.0", features = ["derive"] }

# Common workspace crates
tpm2-rs-base = { path = "base" }
tpm2-rs-client = { path = "client" }
tpm2-rs-drbg = {path = "drbg"}
tpm2-rs-errors = { path = "errors" }
tpm2-rs-marshalable = { path = "marshalable" }
tpm2-rs-marshalable-derive = { path = "marshalable-derive" }
tpm2-rs-server = { path = "server" }
tpm2-rs-unionify = { path = "unionify" }
tpm2-rs-unionify-derive = { path = "unionify-derive" }

[profile.release]
lto = true          # default is lto = false
codegen-units = 1   # default is codegen-units = 16
strip = true        # default is strip = "none"
